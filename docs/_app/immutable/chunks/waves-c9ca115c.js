const N=["#1d2021","#282828","#32302f","#3c3836","#504945","#665c54","#7c6f64","#fbf1c7","#ebdbb2","#d5c4a1","#bdae93","#a89984","#fb4934","#b8bb26","#fabd2f","#83a598","#d3869b","#8ec07c","#928374","#fe8019","#cc2412","#98971a","#d79921","#458588","#b16286","#689d6a","#a89984","#d65d0e"],R=N,X=.5*(Math.sqrt(3)-1),A=(3-Math.sqrt(3))/6,H=o=>Math.floor(o)|0,I=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function Y(o=Math.random){const f=B(o),r=new Float64Array(f).map(p=>I[p%12*2]),a=new Float64Array(f).map(p=>I[p%12*2+1]);return function(n,l){let u=0,w=0,t=0;const b=(n+l)*X,d=H(n+b),i=H(l+b),e=(d+i)*A,m=d-e,D=i-e,x=n-m,S=l-D;let z,F;x>S?(z=1,F=0):(z=0,F=1);const L=x-z+A,j=S-F+A,v=x-1+2*A,q=S-1+2*A,P=d&255,T=i&255;let C=.5-x*x-S*S;if(C>=0){const g=P+f[T],E=r[g],M=a[g];C*=C,u=C*C*(E*x+M*S)}let y=.5-L*L-j*j;if(y>=0){const g=P+z+f[T+F],E=r[g],M=a[g];y*=y,w=y*y*(E*L+M*j)}let G=.5-v*v-q*q;if(G>=0){const g=P+1+f[T+1],E=r[g],M=a[g];G*=G,t=G*G*(E*v+M*q)}return 70*(u+w+t)}}function B(o){const r=new Uint8Array(512);for(let a=0;a<512/2;a++)r[a]=a;for(let a=0;a<512/2-1;a++){const p=a+~~(o()*(256-a)),n=r[a];r[a]=r[p],r[p]=n}for(let a=256;a<512;a++)r[a]=r[a-256];return r}function O(o){let f,r,a;o.setup=()=>{o.createCanvas(o.windowWidth,o.windowHeight),o.colorMode(o.HSB,360,100,100,100),o.pixelDensity(1),o.angleMode(o.DEGREES),f=Y(),r=o.shuffle(R),a=o.createGraphics(o.width,o.height),p(a,.01,!0),p(a,.01,!1)},o.draw=()=>{o.background(255),o.randomSeed(0);let n=o.height/25,l=250,u=400,w=50;for(let t=-n;t<o.height+n;t+=n/2){o.drawingContext.filter="blur("+o.int(o.map(o.abs(t-o.height*3/5),0,o.height/2+n,0,20))+"px)",o.push(),o.translate(0,t);let b=o.map(f.noise2D(t/w,o.frameCount/300),-1,1,0,1),d=o.shuffle(r.concat()),i=o.random()>.5?o.drawingContext.createLinearGradient(0,-n*2,o.width,n*2):o.drawingContext.createLinearGradient(o.width,-n*2,0,n*2);i.addColorStop(0,d[0]),i.addColorStop(b,d[2]),i.addColorStop(1,d[1]),o.drawingContext.fillStyle=i,o.noStroke(),o.beginShape();let e;for(let m=-l;m<o.width+l;m+=l)e=f.noise3D(m/u,t/w,o.frameCount/200)*n*4,o.curveVertex(m,e);o.vertex(o.width+l,e||0),o.vertex(0-l,o.height+n),o.endShape(o.CLOSE),o.pop()}o.drawingContext.globalAlpha=1/2,o.drawingContext.filter="blur("+0+"px)",o.image(a,0,0),o.drawingContext.globalAlpha=1,o.noLoop()};function p(n,l,u){for(let w=0;w<o.width*o.height*l;w++){let t=o.random(o.width),b=o.random(o.height),d=o.width/o.map(l,0,1,o.width/50,o.width/1e4)*o.random(1,1.5),i=o.int(o.random(8))*360/8,e=d*o.sqrt(2),m=n.drawingContext.createLinearGradient(o.cos(i)*e,o.sin(i)*e,o.cos(i+o.PI)*e,o.sin(i+o.PI)*e),D=o.random(1),x=D+o.random(3);m.addColorStop(0,o.color(0,D)),m.addColorStop(1,o.color(0,x)),n.noStroke(),u?n.drawingContext.fillStyle=m:n.erase(o.random(2,8),0),n.push(),n.translate(t,b),n.rotate(o.random(360)),n.shearX(o.random(360/4)*(o.random()>.5?-1:1)),n.shearY(o.random(360/4)*(o.random()>.5?-1:1)),n.rectMode(o.CENTER),n.ellipse(0,0,d,d),n.pop(),u||n.noErase()}}}export{O as default};
